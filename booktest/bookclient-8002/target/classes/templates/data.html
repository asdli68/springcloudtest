<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>ShowData</title>
<style type = "text/css">
	table {
		border : #00ffff solid 2px;
		border-collapse : collapse;
	}
	td {
		border : #8080ff solid 2px;
		padding : 10px;
	}
</style>
</head>
<body id = "body">
	<table id = "work_table">
		<tr>
			<td>書名</td>
			<td>價格</td>
			<td>作者</td>
			<td>出版號</td>
		</tr>
	</table>
	
	<br />
	
	<button id = "btn">顯示資料</button>
	
	<script type = "text/javascript" th:inline = "javascript">
		var btn = document.getElementById('btn');
		var flag = true;
		
		btn.onclick = function(){
			var tbody = document.getElementById("work_table");
			if(flag){
				var bookList = [[${bookList}]];
				for(var i =0; i < bookList.length; i++){
					let newRow = tbody.insertRow();
					
					let cellName = newRow.insertCell();
					let cellPrice = newRow.insertCell();
					let cellWriter = newRow.insertCell();
					let cellBookNumber = newRow.insertCell();
					
					cellName.innerHTML = bookList[i].bookName;
					cellPrice.innerHTML = bookList[i].price;
					cellWriter.innerHTML = bookList[i].writer;
					cellBookNumber.innerHTML = bookList[i].bookNumber;
					flag = false;
				}
			}
		};
	
	</script>

</body>
</html>